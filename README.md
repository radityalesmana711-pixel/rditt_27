[TM5 Data Sains.ipynb](https://github.com/user-attachments/files/24476191/TM5.Data.Sains.ipynb)
{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "657685fa-5fc1-4893-a023-0e049ad39e83",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Raditya Lesmana | 15240074 | 15.3A.01\n",
      "Dataset Heart berhasil dimuat.\n",
      "Jumlah data latih: 642\n",
      "Jumlah data uji  : 276\n",
      "\n",
      "=== HASIL KNN ===\n",
      "Akurasi KNN : 0.8043\n",
      "Persentase  : 80.43%\n",
      "\n",
      "=== HASIL REGRESI LINEAR ===\n",
      "Akurasi Regresi Linear : 0.8514\n",
      "Persentase            : 85.14%\n",
      "\n",
      "=== Prediksi Pasien Baru ===\n"
     ]
    }
   ],
   "source": [
    "print(\"Raditya Lesmana | 15240074 | 15.3A.01\")\n",
    "\n",
    "import pandas as pd\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.preprocessing import StandardScaler\n",
    "from sklearn.neighbors import KNeighborsClassifier\n",
    "from sklearn.linear_model import LinearRegression\n",
    "from sklearn.metrics import accuracy_score\n",
    "\n",
    "try:\n",
    "    df = pd.read_csv(\"heart.csv\")\n",
    "    print(\"Dataset Heart berhasil dimuat.\")\n",
    "except FileNotFoundError:\n",
    "    print(\"Error: File 'heart.csv' tidak ditemukan.\")\n",
    "    exit()\n",
    "\n",
    "# Fitur & Target\n",
    "fitur = ['Age', 'Sex', 'ChestPainType', 'Cholesterol']\n",
    "target = 'HeartDisease'\n",
    "data = df[fitur + [target]].copy()\n",
    "data = pd.get_dummies(data, drop_first=True)\n",
    "X = data.drop(target, axis=1)\n",
    "Y = data[target]\n",
    "X_train, X_test, Y_train, Y_test = train_test_split(\n",
    "    X, Y, test_size=0.3, random_state=42\n",
    ")\n",
    "\n",
    "print(f\"Jumlah data latih: {len(X_train)}\")\n",
    "print(f\"Jumlah data uji  : {len(X_test)}\")\n",
    "\n",
    "# Standarisasi\n",
    "scaler = StandardScaler()\n",
    "X_train = scaler.fit_transform(X_train)\n",
    "X_test = scaler.transform(X_test)\n",
    "\n",
    "# MODEL 1: KNN\n",
    "knn = KNeighborsClassifier(n_neighbors=5)\n",
    "knn.fit(X_train, Y_train)\n",
    "pred_knn = knn.predict(X_test)\n",
    "akurasi_knn = accuracy_score(Y_test, pred_knn)\n",
    "\n",
    "print(\"\\n=== HASIL KNN ===\")\n",
    "print(f\"Akurasi KNN : {akurasi_knn:.4f}\")\n",
    "print(f\"Persentase  : {akurasi_knn*100:.2f}%\")\n",
    "\n",
    "# MODEL 2: REGRESI LINEAR\n",
    "linreg = LinearRegression()\n",
    "linreg.fit(X_train, Y_train)\n",
    "pred_lin = linreg.predict(X_test)\n",
    "pred_lin_class = (pred_lin >= 0.5).astype(int)\n",
    "akurasi_lin = accuracy_score(Y_test, pred_lin_class)\n",
    "\n",
    "print(\"\\n=== HASIL REGRESI LINEAR ===\")\n",
    "print(f\"Akurasi Regresi Linear : {akurasi_lin:.4f}\")\n",
    "print(f\"Persentase            : {akurasi_lin*100:.2f}%\")\n",
    "\n",
    "# PREDIKSI PASIEN BARU\n",
    "print(\"\\n=== Prediksi Pasien Baru ===\")\n",
    "\n",
    "usia = int(input(\"Masukkan usia Anda           : \"))\n",
    "sex = input(\"Masukkan jenis kelamin (M/F) : \").upper()\n",
    "nyeri = input(\"Masukkan jenis nyeri dada (ATA/NAP/ASY/TA): \").upper()\n",
    "kol = int(input(\"Masukkan kadar kolesterol    : \"))\n",
    "\n",
    "pasien_baru = pd.DataFrame({\n",
    "    'Age': [usia],\n",
    "    'Sex': [sex],\n",
    "    'ChestPainType': [nyeri],\n",
    "    'Cholesterol': [kol]\n",
    "})\n",
    "\n",
    "pasien_baru = pd.get_dummies(pasien_baru)\n",
    "pasien_baru = pasien_baru.reindex(columns=X.columns, fill_value=0)\n",
    "pasien_baru = scaler.transform(pasien_baru)\n",
    "hasil_knn = knn.predict(pasien_baru)\n",
    "hasil_lin = linreg.predict(pasien_baru)\n",
    "hasil_lin_class = 1 if hasil_lin[0] >= 0.5 else 0\n",
    "\n",
    "def status(x):\n",
    "    return \" Pasien Terkena Penyakit Jantung (1)\" if x == 1 else \"Pasien Tidak Terkena Penyakit Jantung (0)\"\n",
    "\n",
    "print(\"\\n--- HASIL PREDIKSI PASIEN BARU ---\")\n",
    "print(\"KNN            :\", status(hasil_knn[0]))\n",
    "print(\"Regresi Linear :\", status(hasil_lin_class))\n",
    "print(f\"Nilai Regresi Linear: {hasil_lin[0]:.3f}\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "d0f2dd93-8e29-4789-8b6f-7ffc18fe46fd",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
